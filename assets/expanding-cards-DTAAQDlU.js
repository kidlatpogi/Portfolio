import{r as o,j as s}from"./vendor.react-C2s8lRS5.js";import{i as H,g as V,a as U,d as q,r as J}from"./vendor-Bgscxrbh.js";const v={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};let x=null,D=null,f=null;const Z=!!(v.projectId&&v.apiKey&&v.appId);if(!Z)console.warn("Firebase not initialized â€” missing environment variables. Expected VITE_FIREBASE_PROJECT_ID, VITE_FIREBASE_API_KEY, VITE_FIREBASE_APP_ID.");else{x=H(v);try{f=V(x)}catch(e){console.warn("Failed to initialize Firestore:",e),f=null}if(typeof window<"u")try{D=U(x)}catch(e){console.warn("Failed to initialize Analytics:",e),D=null}}const P=o.memo(({card:e,index:n,isActive:a,userLiked:l,onCardClick:i,onLike:d,onViewFull:m})=>{const w=o.useCallback(r=>{r.stopPropagation(),d(r,e.id)},[e.id,d]),y=o.useCallback(r=>{r.stopPropagation(),m(r,e)},[e,m]);return s.jsxs("div",{className:`expanding-card ${a?"active":""}`,onClick:()=>i(n),onContextMenu:r=>r.preventDefault(),role:"button",tabIndex:0,"aria-label":`Design: ${e.title}`,children:[s.jsx("img",{src:e.imageSrc||e.image,srcSet:e.imageSrcSet||void 0,sizes:e.imageSizes||void 0,alt:e.title||"",className:"card-bg",loading:"lazy"}),s.jsx("h3",{className:"expanding-card-title",children:e.title}),s.jsx("button",{className:`heart-button ${l[e.id]?"liked":""}`,onClick:w,"aria-label":"Like this design",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"heart-icon",children:s.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),a&&s.jsxs("button",{className:"view-full-button",onClick:y,"aria-label":"View full image",children:[s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"View Full"]})]})},(e,n)=>{const a=e.isActive===n.isActive,l=e.card.id===n.card.id,i=!!e.userLiked[e.card.id],d=!!n.userLiked[n.card.id];return a&&l&&i===d});P.displayName="DesignCard";const K=o.memo(({isOpen:e,modalImage:n,onClose:a})=>{const l=o.useCallback(i=>{i.key==="Escape"&&e&&a()},[e,a]);return o.useEffect(()=>{if(e)return document.addEventListener("keydown",l),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,l]),!e||!n?null:s.jsx("div",{className:"design-modal-overlay",onClick:a,children:s.jsxs("div",{className:"design-modal-content",onClick:i=>i.stopPropagation(),children:[s.jsx("button",{className:"design-modal-close",onClick:a,"aria-label":"Close modal",children:s.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),s.jsx("h3",{className:"design-modal-title",children:n.title}),s.jsx("div",{className:"design-modal-image-container",onContextMenu:i=>i.preventDefault(),children:s.jsx("img",{src:n.image,alt:n.title,className:"design-modal-image",loading:"lazy",onContextMenu:i=>i.preventDefault(),onDragStart:i=>i.preventDefault(),draggable:"false"})})]})})});K.displayName="DesignModal";const C="/assets/Typography-800-DS8lbCHc.webp",S="/assets/Multo-800-2tsQbcUF.avif",b="/assets/Cloud9-800-D8wN_PSX.webp",j="/assets/Ketchup-800-CVPwmo_Z.webp",Q="/assets/Ketchup-400-CP-aqI68.webp",M="/assets/Ketchup-1200-Bmyc1wR4.webp",X="/assets/Ketchup-400-Bh5L7teq.avif",Y="/assets/Ketchup-800-CsswtVQf.avif",G="/assets/Ketchup-1200-D9nZMOh5.avif",W="/assets/Cloud9-400-B2DnmBhN.webp",N="/assets/Cloud9-1200-C-frN8MP.webp",ee="/assets/Cloud9-400-I2OhpjTD.avif",se="/assets/Cloud9-800-C9KMV_ur.avif",te="/assets/Cloud9-1200-Bm-4PL4j.avif",ae="/assets/Typography-400-KcIcnO_n.webp",z="/assets/Typography-1200-CIqrEZ7b.webp",ie="/assets/Typography-400-DsYX78V-.avif",oe="/assets/Typography-800-vxoe-vdH.avif",ne="/assets/Typography-1200-BliL1YlG.avif",le="/assets/Multo-400-DiRzZm_b.avif",I="/assets/Multo-1200-DmQpa7R8.avif",ce="/assets/lamaw-400-CK9Ex3Ew.avif",E="/assets/lamaw-800-CzhHj2Et.avif",T="/assets/lamaw-1200-BqdOGkE5.avif",re="/assets/Here-with-me-400-B-XNuTb6.avif",$="/assets/Here-with-me-800-Cnqh5_OP.avif",B="/assets/Here-with-me-1200-BK75I-w3.avif",A=[{id:1,title:"Redesigning Old Poster",image:j,imageSrc:j,imageSrcSet:`${X} 400w, ${Y} 800w, ${G} 1200w, ${Q} 400w, ${j} 800w, ${M} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:M},{id:2,title:"Cloud 9 Music Poster",image:b,imageSrc:b,imageSrcSet:`${ee} 400w, ${se} 800w, ${te} 1200w, ${W} 400w, ${b} 800w, ${N} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:N},{id:3,title:"Multo Music Poster",image:S,imageSrc:S,imageSrcSet:`${le} 400w, ${S} 800w, ${I} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:I},{id:4,title:"Here with me Music Poster",image:$,imageSrc:$,imageSrcSet:`${re} 400w, ${$} 800w, ${B} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:B},{id:5,title:"Typography Design",image:C,imageSrc:C,imageSrcSet:`${ie} 400w, ${oe} 800w, ${ne} 1200w, ${ae} 400w, ${C} 800w, ${z} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:z},{id:6,title:"Podcast Thumbnail Design",image:E,imageSrc:E,imageSrcSet:`${ce} 400w, ${E} 800w, ${T} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:T}];function de(){const[e,n]=o.useState(0),[a,l]=o.useState({}),[i,d]=o.useState(null),[m,w]=o.useState(!1);o.useEffect(()=>{const c=localStorage.getItem("portfolioUserLiked");if(c)try{l(JSON.parse(c))}catch(t){console.error("Error parsing liked state:",t)}},[]);const y=o.useCallback(c=>{n(c)},[]),r=o.useCallback(async(c,t)=>{c.stopPropagation();const h=a[t]||!1,L={...a,[t]:!h};l(L),localStorage.setItem("portfolioUserLiked",JSON.stringify(L));try{const u=q(f,"stats","likes");await J(f,async g=>{const _=await g.get(u);if(_.exists()){const p=_.data()[t]||0,F=h?Math.max(0,p-1):p+1;g.update(u,{[t]:F})}else{const k={};A.forEach(p=>{k[p.id]=p.id===t?1:0}),g.set(u,k)}})}catch(u){console.error("Error updating like:",u),l(g=>({...g,[t]:h})),localStorage.setItem("portfolioUserLiked",JSON.stringify({...a,[t]:h}))}},[a]),O=o.useCallback((c,t)=>{c.stopPropagation(),d({...t,image:t.modalSrc||t.image}),w(!0)},[]),R=o.useCallback(()=>{w(!1),setTimeout(()=>d(null),300)},[]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"expanding-cards-container",children:A.map((c,t)=>s.jsx(P,{card:c,index:t,isActive:e===t,userLiked:a,onCardClick:y,onLike:r,onViewFull:O},c.id))}),s.jsx(K,{isOpen:m,modalImage:i,onClose:R})]})}const ge=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{ge as E,f as d};
