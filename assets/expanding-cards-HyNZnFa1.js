import{r as a,j as t}from"./vendor.react-cefRKmpB.js";import"./vendor-njM7rzrs.js";const E=a.memo(({card:e,index:n,isActive:i,userLiked:l,onCardClick:s,onLike:d,onViewFull:m})=>{const u=a.useCallback(r=>{r.stopPropagation(),d(r,e.id)},[e.id,d]),p=a.useCallback(r=>{r.stopPropagation(),m(r,e)},[e,m]);return t.jsxs("div",{className:`expanding-card ${i?"active":""}`,onClick:()=>s(n),onContextMenu:r=>r.preventDefault(),role:"button",tabIndex:0,"aria-label":`Design: ${e.title}`,children:[t.jsx("img",{src:e.imageSrc||e.image,srcSet:e.imageSrcSet||void 0,sizes:e.imageSizes||void 0,alt:e.title||"",className:"card-bg",loading:"lazy"}),t.jsx("h3",{className:"expanding-card-title",children:e.title}),t.jsx("button",{type:"button",className:`heart-button ${l[e.id]?"liked":""}`,onClick:u,"aria-label":"Like this design","aria-pressed":!!l[e.id],title:l[e.id]?"Unlike":"Like",children:t.jsx("svg",{viewBox:"0 0 24 24",className:"heart-icon",children:t.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),i&&t.jsxs("button",{className:"view-full-button",onClick:p,"aria-label":"View full image",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"View Full"]})]})},(e,n)=>{const i=e.isActive===n.isActive,l=e.card.id===n.card.id,s=!!e.userLiked[e.card.id],d=!!n.userLiked[n.card.id];return i&&l&&s===d});E.displayName="DesignCard";const B=a.memo(({isOpen:e,modalImage:n,onClose:i})=>{const l=a.useCallback(s=>{s.key==="Escape"&&e&&i()},[e,i]);return a.useEffect(()=>{if(e)return document.addEventListener("keydown",l),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[e,l]),!e||!n?null:t.jsx("div",{className:"design-modal-overlay",onClick:i,children:t.jsxs("div",{className:"design-modal-content",onClick:s=>s.stopPropagation(),children:[t.jsx("button",{className:"design-modal-close",onClick:i,"aria-label":"Close modal",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),t.jsx("h3",{className:"design-modal-title",children:n.title}),t.jsx("div",{className:"design-modal-image-container",onContextMenu:s=>s.preventDefault(),children:t.jsx("img",{src:n.image,alt:n.title,className:"design-modal-image",loading:"lazy",onContextMenu:s=>s.preventDefault(),onDragStart:s=>s.preventDefault(),draggable:"false"})})]})})});B.displayName="DesignModal";const f="/assets/Cloud9-800-D8wN_PSX.webp",x="/assets/Ketchup-800-CVPwmo_Z.webp",T="/assets/Ketchup-400-CP-aqI68.webp",M="/assets/Ketchup-1200-Bmyc1wR4.webp",H="/assets/Ketchup-400-Bh5L7teq.avif",U="/assets/Ketchup-800-CsswtVQf.avif",A="/assets/Ketchup-1200-D9nZMOh5.avif",R="/assets/Cloud9-400-B2DnmBhN.webp",L="/assets/Cloud9-1200-C-frN8MP.webp",V="/assets/Cloud9-400-I2OhpjTD.avif",I="/assets/Cloud9-800-C9KMV_ur.avif",F="/assets/Cloud9-1200-Bm-4PL4j.avif",q="/assets/Typography-400-DsYX78V-.avif",k="/assets/Typography-800-vxoe-vdH.avif",N="/assets/Typography-1200-BliL1YlG.avif",J="/assets/Multo-400-DiRzZm_b.avif",S="/assets/Multo-800-2tsQbcUF.avif",D="/assets/Multo-1200-DmQpa7R8.avif",Q="/assets/lamaw-400-CK9Ex3Ew.avif",C="/assets/lamaw-800-CzhHj2Et.avif",_="/assets/lamaw-1200-BqdOGkE5.avif",X="/assets/Here-with-me-400-B-XNuTb6.avif",y="/assets/Here-with-me-800-Cnqh5_OP.avif",z="/assets/Here-with-me-1200-BK75I-w3.avif",Z=[{id:1,title:"Redesigning Old Poster",image:x,imageSrc:x,imageSrcSet:`${H} 400w, ${U} 800w, ${A} 1200w, ${T} 400w, ${x} 800w, ${M} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:M},{id:2,title:"Cloud 9 Music Poster",image:f,imageSrc:f,imageSrcSet:`${V} 400w, ${I} 800w, ${F} 1200w, ${R} 400w, ${f} 800w, ${L} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:L},{id:3,title:"Multo Music Poster",image:S,imageSrc:S,imageSrcSet:`${J} 400w, ${S} 800w, ${D} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:D},{id:4,title:"Here with me Music Poster",image:y,imageSrc:y,imageSrcSet:`${X} 400w, ${y} 800w, ${z} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:z},{id:5,title:"Typography Design",image:k,imageSrc:k,imageSrcSet:`${q} 400w, ${k} 800w, ${N} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:N},{id:6,title:"Podcast Thumbnail Design",image:C,imageSrc:C,imageSrcSet:`${Q} 400w, ${C} 800w, ${_} 1200w`,imageSizes:"(max-width: 600px) 100vw, 33vw",modalSrc:_}];function Y(){const[e,n]=a.useState(0),[i,l]=a.useState({}),[s,d]=a.useState(null),[m,u]=a.useState(!1);a.useEffect(()=>{const c=localStorage.getItem("portfolioUserLiked");if(c)try{l(JSON.parse(c))}catch(o){console.error("Error parsing liked state:",o)}},[]);const p=a.useCallback(c=>{n(c)},[]),r=a.useCallback(async(c,o)=>{c.stopPropagation();const h=i[o]||!1,b={...i,[o]:!h};l(b),localStorage.setItem("portfolioUserLiked",JSON.stringify(b));try{const g="portfolioLikesCounts",j=localStorage.getItem(g),v=j?JSON.parse(j):{},$=v[o]||0,O=h?Math.max(0,$-1):$+1;if(v[o]=O,localStorage.setItem(g,JSON.stringify(v)),!h)try{const w=await fetch(`/api/reactions?id=${encodeURIComponent(o)}`,{method:"POST"});w.ok||console.warn("Server reaction endpoint responded with error:",w.status)}catch(w){console.warn("Failed to report like to server (possibly blocked):",w)}}catch(g){console.warn("Failed to persist local likes count:",g)}},[i]),P=a.useCallback((c,o)=>{c.stopPropagation(),d({...o,image:o.modalSrc||o.image}),u(!0)},[]),K=a.useCallback(()=>{u(!1),setTimeout(()=>d(null),300)},[]);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"expanding-cards-container",children:Z.map((c,o)=>t.jsx(E,{card:c,index:o,isActive:e===o,userLiked:i,onCardClick:p,onLike:r,onViewFull:P},c.id))}),t.jsx(B,{isOpen:m,modalImage:s,onClose:K})]})}export{Y as default};
